// Expandable, ReadMore, ShowHide, Filter, Sort, SearchFilter, Compare, Wishlist, Favorites widgets (ultra-compact)

class ExpandableWidget extends WidgetBase { getName() { return 'expandable'; } getTitle() { return 'Expandable'; } getIcon() { return 'fa fa-expand'; } getCategories() { return ['interactive']; } getKeywords() { return ['expandable', 'expand', 'more']; } registerControls() { this.startControlsSection('content_section', { label: 'Content', tab: 'content' }); this.addControl('preview', { type: 'textarea', label: 'Preview Text', default_value: 'Preview text...', placeholder: 'Enter preview', label_block: true }); this.addControl('full_content', { type: 'textarea', label: 'Full Content', default_value: 'Full content here...', placeholder: 'Enter full content', label_block: true }); this.endControlsSection(); this.startControlsSection('style_section', { label: 'Style', tab: 'style' }); this.addControl('button_color', { type: 'color', label: 'Button Color', default_value: '#3b82f6' }); this.endControlsSection(); this.registerAdvancedControls(); } render() { const preview = this.getSetting('preview', 'Preview text...'); const fullContent = this.getSetting('full_content', 'Full content here...'); const buttonColor = this.getSetting('button_color', '#3b82f6'); const cssClasses = this.getSetting('css_classes', ''); const cssId = this.getSetting('css_id', ''); const animation = this.getSetting('animation', 'none'); const animationDuration = this.getSetting('animation_duration', { size: 0.5, unit: 's' }); const animationDelay = this.getSetting('animation_delay', { size: 0, unit: 's' }); const safeAnimationDuration = (animationDuration && typeof animationDuration === 'object' && animationDuration.size !== undefined && animationDuration.unit !== undefined) ? animationDuration : { size: 0.5, unit: 's' }; const safeAnimationDelay = (animationDelay && typeof animationDelay === 'object' && animationDelay.size !== undefined && animationDelay.unit !== undefined) ? animationDelay : { size: 0, unit: 's' }; const uniqueId = `expandable-${this.id}`; const contentHtml = `<div><div style="color: #666; font-size: 14px; line-height: 1.6; margin-bottom: 15px;">${this.escapeHtml(preview)}</div><div id="${uniqueId}" style="display: none; color: #666; font-size: 14px; line-height: 1.6; margin-bottom: 15px;">${this.escapeHtml(fullContent)}</div><button onclick="document.getElementById('${uniqueId}').style.display = document.getElementById('${uniqueId}').style.display === 'none' ? 'block' : 'none'; this.textContent = document.getElementById('${uniqueId}').style.display === 'none' ? 'Expand' : 'Collapse'" style="background: ${buttonColor}; color: white; font-size: 14px; font-weight: 600; padding: 8px 20px; border: none; border-radius: 6px; cursor: pointer;">Expand</button></div>`; let wrapperClasses = ['expandable-widget']; if (cssClasses) wrapperClasses.push(cssClasses); if (animation !== 'none') wrapperClasses.push('animated', animation); let wrapperAttributes = ''; if (cssId) wrapperAttributes += ` id="${this.escapeHtml(cssId)}"`; let animationStyles = ''; if (animation !== 'none') { const duration = `${safeAnimationDuration.size}${safeAnimationDuration.unit}`; const delay = `${safeAnimationDelay.size}${safeAnimationDelay.unit}`; animationStyles = `animation-name: ${animation}; animation-duration: ${duration}; animation-delay: ${delay}; animation-fill-mode: both;`; } const wrapperStyle = animationStyles ? ` style="${animationStyles.trim()}"` : ''; return `<div class="${wrapperClasses.join(' ')}"${wrapperAttributes}${wrapperStyle}>${contentHtml}</div>`; } escapeHtml(text) { const div = document.createElement('div'); div.textContent = text; return div.innerHTML; } }

class ReadMoreWidget extends WidgetBase { getName() { return 'read_more'; } getTitle() { return 'Read More'; } getIcon() { return 'fa fa-book-open'; } getCategories() { return ['interactive']; } getKeywords() { return ['read', 'more', 'less']; } registerControls() { this.startControlsSection('content_section', { label: 'Content', tab: 'content' }); this.addControl('short_text', { type: 'textarea', label: 'Short Text', default_value: 'Short text preview...', placeholder: 'Enter short text', label_block: true }); this.addControl('full_text', { type: 'textarea', label: 'Full Text', default_value: 'Full text content...', placeholder: 'Enter full text', label_block: true }); this.endControlsSection(); this.startControlsSection('style_section', { label: 'Style', tab: 'style' }); this.addControl('link_color', { type: 'color', label: 'Link Color', default_value: '#3b82f6' }); this.endControlsSection(); this.registerAdvancedControls(); } render() { const shortText = this.getSetting('short_text', 'Short text preview...'); const fullText = this.getSetting('full_text', 'Full text content...'); const linkColor = this.getSetting('link_color', '#3b82f6'); const cssClasses = this.getSetting('css_classes', ''); const cssId = this.getSetting('css_id', ''); const animation = this.getSetting('animation', 'none'); const animationDuration = this.getSetting('animation_duration', { size: 0.5, unit: 's' }); const animationDelay = this.getSetting('animation_delay', { size: 0, unit: 's' }); const safeAnimationDuration = (animationDuration && typeof animationDuration === 'object' && animationDuration.size !== undefined && animationDuration.unit !== undefined) ? animationDuration : { size: 0.5, unit: 's' }; const safeAnimationDelay = (animationDelay && typeof animationDelay === 'object' && animationDelay.size !== undefined && animationDelay.unit !== undefined) ? animationDelay : { size: 0, unit: 's' }; const uniqueId = `readmore-${this.id}`; const contentHtml = `<div><div style="color: #666; font-size: 14px; line-height: 1.6;">${this.escapeHtml(shortText)} <span id="${uniqueId}" style="display: none;">${this.escapeHtml(fullText)}</span> <a href="javascript:void(0)" onclick="document.getElementById('${uniqueId}').style.display = document.getElementById('${uniqueId}').style.display === 'none' ? 'inline' : 'none'; this.textContent = document.getElementById('${uniqueId}').style.display === 'none' ? 'Read more' : 'Read less'" style="color: ${linkColor}; font-weight: 600; text-decoration: none;">Read more</a></div></div>`; let wrapperClasses = ['read-more-widget']; if (cssClasses) wrapperClasses.push(cssClasses); if (animation !== 'none') wrapperClasses.push('animated', animation); let wrapperAttributes = ''; if (cssId) wrapperAttributes += ` id="${this.escapeHtml(cssId)}"`; let animationStyles = ''; if (animation !== 'none') { const duration = `${safeAnimationDuration.size}${safeAnimationDuration.unit}`; const delay = `${safeAnimationDelay.size}${safeAnimationDelay.unit}`; animationStyles = `animation-name: ${animation}; animation-duration: ${duration}; animation-delay: ${delay}; animation-fill-mode: both;`; } const wrapperStyle = animationStyles ? ` style="${animationStyles.trim()}"` : ''; return `<div class="${wrapperClasses.join(' ')}"${wrapperAttributes}${wrapperStyle}>${contentHtml}</div>`; } escapeHtml(text) { const div = document.createElement('div'); div.textContent = text; return div.innerHTML; } }

class ShowHideWidget extends WidgetBase { getName() { return 'show_hide'; } getTitle() { return 'Show/Hide'; } getIcon() { return 'fa fa-eye'; } getCategories() { return ['interactive']; } getKeywords() { return ['show', 'hide', 'toggle']; } registerControls() { this.startControlsSection('content_section', { label: 'Content', tab: 'content' }); this.addControl('button_text', { type: 'text', label: 'Button Text', default_value: 'Show Content', placeholder: 'Enter button text' }); this.addControl('content', { type: 'textarea', label: 'Content', default_value: 'Hidden content', placeholder: 'Enter content', label_block: true }); this.endControlsSection(); this.startControlsSection('style_section', { label: 'Style', tab: 'style' }); this.addControl('button_color', { type: 'color', label: 'Button Color', default_value: '#10b981' }); this.endControlsSection(); this.registerAdvancedControls(); } render() { const buttonText = this.getSetting('button_text', 'Show Content'); const content = this.getSetting('content', 'Hidden content'); const buttonColor = this.getSetting('button_color', '#10b981'); const cssClasses = this.getSetting('css_classes', ''); const cssId = this.getSetting('css_id', ''); const animation = this.getSetting('animation', 'none'); const animationDuration = this.getSetting('animation_duration', { size: 0.5, unit: 's' }); const animationDelay = this.getSetting('animation_delay', { size: 0, unit: 's' }); const safeAnimationDuration = (animationDuration && typeof animationDuration === 'object' && animationDuration.size !== undefined && animationDuration.unit !== undefined) ? animationDuration : { size: 0.5, unit: 's' }; const safeAnimationDelay = (animationDelay && typeof animationDelay === 'object' && animationDelay.size !== undefined && animationDelay.unit !== undefined) ? animationDelay : { size: 0, unit: 's' }; const uniqueId = `showhide-${this.id}`; const contentHtml = `<div><button onclick="document.getElementById('${uniqueId}').style.display = document.getElementById('${uniqueId}').style.display === 'none' ? 'block' : 'none'; this.innerHTML = document.getElementById('${uniqueId}').style.display === 'none' ? '<i class=\\'fa fa-eye\\'></i> Show' : '<i class=\\'fa fa-eye-slash\\'></i> Hide'" style="background: ${buttonColor}; color: white; font-size: 14px; font-weight: 600; padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer;"><i class="fa fa-eye"></i> Show</button><div id="${uniqueId}" style="display: none; margin-top: 15px; padding: 20px; background: #f9fafb; border-radius: 8px; color: #666; font-size: 14px; line-height: 1.6;">${this.escapeHtml(content)}</div></div>`; let wrapperClasses = ['show-hide-widget']; if (cssClasses) wrapperClasses.push(cssClasses); if (animation !== 'none') wrapperClasses.push('animated', animation); let wrapperAttributes = ''; if (cssId) wrapperAttributes += ` id="${this.escapeHtml(cssId)}"`; let animationStyles = ''; if (animation !== 'none') { const duration = `${safeAnimationDuration.size}${safeAnimationDuration.unit}`; const delay = `${safeAnimationDelay.size}${safeAnimationDelay.unit}`; animationStyles = `animation-name: ${animation}; animation-duration: ${duration}; animation-delay: ${delay}; animation-fill-mode: both;`; } const wrapperStyle = animationStyles ? ` style="${animationStyles.trim()}"` : ''; return `<div class="${wrapperClasses.join(' ')}"${wrapperAttributes}${wrapperStyle}>${contentHtml}</div>`; } escapeHtml(text) { const div = document.createElement('div'); div.textContent = text; return div.innerHTML; } }

class FilterWidget extends WidgetBase { getName() { return 'filter'; } getTitle() { return 'Filter'; } getIcon() { return 'fa fa-filter'; } getCategories() { return ['interactive']; } getKeywords() { return ['filter', 'sort', 'search']; } registerControls() { this.startControlsSection('content_section', { label: 'Content', tab: 'content' }); this.addControl('title', { type: 'text', label: 'Title', default_value: 'Filter Content', placeholder: 'Enter title', label_block: true }); this.addControl('filters', { type: 'text', label: 'Filters (comma-separated)', default_value: 'All,Category 1,Category 2', placeholder: 'e.g., All,Category 1', label_block: true }); this.endControlsSection(); this.startControlsSection('style_section', { label: 'Style', tab: 'style' }); this.addControl('active_color', { type: 'color', label: 'Active Color', default_value: '#3b82f6' }); this.endControlsSection(); this.registerAdvancedControls(); } render() { const title = this.getSetting('title', 'Filter Content'); const filters = this.getSetting('filters', 'All,Category 1,Category 2'); const activeColor = this.getSetting('active_color', '#3b82f6'); const cssClasses = this.getSetting('css_classes', ''); const cssId = this.getSetting('css_id', ''); const animation = this.getSetting('animation', 'none'); const animationDuration = this.getSetting('animation_duration', { size: 0.5, unit: 's' }); const animationDelay = this.getSetting('animation_delay', { size: 0, unit: 's' }); const safeAnimationDuration = (animationDuration && typeof animationDuration === 'object' && animationDuration.size !== undefined && animationDuration.unit !== undefined) ? animationDuration : { size: 0.5, unit: 's' }; const safeAnimationDelay = (animationDelay && typeof animationDelay === 'object' && animationDelay.size !== undefined && animationDelay.unit !== undefined) ? animationDelay : { size: 0, unit: 's' }; const filterButtons = filters.split(',').map((filter, i) => `<button onclick="Array.from(this.parentElement.children).forEach(btn => btn.style.background='#f3f4f6'); Array.from(this.parentElement.children).forEach(btn => btn.style.color='#666'); this.style.background='${activeColor}'; this.style.color='white'" style="background: ${i === 0 ? activeColor : '#f3f4f6'}; color: ${i === 0 ? 'white' : '#666'}; font-size: 14px; font-weight: 600; padding: 8px 16px; border: none; border-radius: 6px; cursor: pointer; margin-right: 8px;">${this.escapeHtml(filter.trim())}</button>`).join(''); const contentHtml = `<div><h4 style="font-size: 16px; font-weight: 700; margin: 0 0 15px 0;">${this.escapeHtml(title)}</h4><div>${filterButtons}</div></div>`; let wrapperClasses = ['filter-widget']; if (cssClasses) wrapperClasses.push(cssClasses); if (animation !== 'none') wrapperClasses.push('animated', animation); let wrapperAttributes = ''; if (cssId) wrapperAttributes += ` id="${this.escapeHtml(cssId)}"`; let animationStyles = ''; if (animation !== 'none') { const duration = `${safeAnimationDuration.size}${safeAnimationDuration.unit}`; const delay = `${safeAnimationDelay.size}${safeAnimationDelay.unit}`; animationStyles = `animation-name: ${animation}; animation-duration: ${duration}; animation-delay: ${delay}; animation-fill-mode: both;`; } const wrapperStyle = animationStyles ? ` style="${animationStyles.trim()}"` : ''; return `<div class="${wrapperClasses.join(' ')}"${wrapperAttributes}${wrapperStyle}>${contentHtml}</div>`; } escapeHtml(text) { const div = document.createElement('div'); div.textContent = text; return div.innerHTML; } }

class SortWidget extends WidgetBase { getName() { return 'sort'; } getTitle() { return 'Sort'; } getIcon() { return 'fa fa-sort'; } getCategories() { return ['interactive']; } getKeywords() { return ['sort', 'order', 'arrange']; } registerControls() { this.startControlsSection('content_section', { label: 'Content', tab: 'content' }); this.addControl('label', { type: 'text', label: 'Label', default_value: 'Sort by:', placeholder: 'Enter label' }); this.addControl('options', { type: 'text', label: 'Options (comma-separated)', default_value: 'Name,Date,Price', placeholder: 'e.g., Name,Date', label_block: true }); this.endControlsSection(); this.startControlsSection('style_section', { label: 'Style', tab: 'style' }); this.addControl('select_color', { type: 'color', label: 'Select Color', default_value: '#3b82f6' }); this.endControlsSection(); this.registerAdvancedControls(); } render() { const label = this.getSetting('label', 'Sort by:'); const options = this.getSetting('options', 'Name,Date,Price'); const selectColor = this.getSetting('select_color', '#3b82f6'); const cssClasses = this.getSetting('css_classes', ''); const cssId = this.getSetting('css_id', ''); const animation = this.getSetting('animation', 'none'); const animationDuration = this.getSetting('animation_duration', { size: 0.5, unit: 's' }); const animationDelay = this.getSetting('animation_delay', { size: 0, unit: 's' }); const safeAnimationDuration = (animationDuration && typeof animationDuration === 'object' && animationDuration.size !== undefined && animationDuration.unit !== undefined) ? animationDuration : { size: 0.5, unit: 's' }; const safeAnimationDelay = (animationDelay && typeof animationDelay === 'object' && animationDelay.size !== undefined && animationDelay.unit !== undefined) ? animationDelay : { size: 0, unit: 's' }; const optionElements = options.split(',').map(opt => `<option>${this.escapeHtml(opt.trim())}</option>`).join(''); const contentHtml = `<div style="display: flex; align-items: center; gap: 10px;"><span style="font-size: 14px; font-weight: 600;">${this.escapeHtml(label)}</span><select style="border: 1px solid #e5e7eb; border-radius: 6px; padding: 8px 12px; font-size: 14px; cursor: pointer; color: ${selectColor};">${optionElements}</select></div>`; let wrapperClasses = ['sort-widget']; if (cssClasses) wrapperClasses.push(cssClasses); if (animation !== 'none') wrapperClasses.push('animated', animation); let wrapperAttributes = ''; if (cssId) wrapperAttributes += ` id="${this.escapeHtml(cssId)}"`; let animationStyles = ''; if (animation !== 'none') { const duration = `${safeAnimationDuration.size}${safeAnimationDuration.unit}`; const delay = `${safeAnimationDelay.size}${safeAnimationDelay.unit}`; animationStyles = `animation-name: ${animation}; animation-duration: ${duration}; animation-delay: ${delay}; animation-fill-mode: both;`; } const wrapperStyle = animationStyles ? ` style="${animationStyles.trim()}"` : ''; return `<div class="${wrapperClasses.join(' ')}"${wrapperAttributes}${wrapperStyle}>${contentHtml}</div>`; } escapeHtml(text) { const div = document.createElement('div'); div.textContent = text; return div.innerHTML; } }

class SearchFilterWidget extends WidgetBase { getName() { return 'search_filter'; } getTitle() { return 'Search Filter'; } getIcon() { return 'fa fa-search'; } getCategories() { return ['interactive']; } getKeywords() { return ['search', 'filter', 'find']; } registerControls() { this.startControlsSection('content_section', { label: 'Content', tab: 'content' }); this.addControl('placeholder', { type: 'text', label: 'Placeholder', default_value: 'Search...', placeholder: 'Enter placeholder', label_block: true }); this.endControlsSection(); this.startControlsSection('style_section', { label: 'Style', tab: 'style' }); this.addControl('search_color', { type: 'color', label: 'Search Color', default_value: '#3b82f6' }); this.endControlsSection(); this.registerAdvancedControls(); } render() { const placeholder = this.getSetting('placeholder', 'Search...'); const searchColor = this.getSetting('search_color', '#3b82f6'); const cssClasses = this.getSetting('css_classes', ''); const cssId = this.getSetting('css_id', ''); const animation = this.getSetting('animation', 'none'); const animationDuration = this.getSetting('animation_duration', { size: 0.5, unit: 's' }); const animationDelay = this.getSetting('animation_delay', { size: 0, unit: 's' }); const safeAnimationDuration = (animationDuration && typeof animationDuration === 'object' && animationDuration.size !== undefined && animationDuration.unit !== undefined) ? animationDuration : { size: 0.5, unit: 's' }; const safeAnimationDelay = (animationDelay && typeof animationDelay === 'object' && animationDelay.size !== undefined && animationDelay.unit !== undefined) ? animationDelay : { size: 0, unit: 's' }; const contentHtml = `<div style="position: relative;"><input type="text" placeholder="${this.escapeHtml(placeholder)}" style="width: 100%; border: 1px solid #e5e7eb; border-radius: 8px; padding: 12px 40px 12px 15px; font-size: 14px;"><i class="fa fa-search" style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: ${searchColor};"></i></div>`; let wrapperClasses = ['search-filter-widget']; if (cssClasses) wrapperClasses.push(cssClasses); if (animation !== 'none') wrapperClasses.push('animated', animation); let wrapperAttributes = ''; if (cssId) wrapperAttributes += ` id="${this.escapeHtml(cssId)}"`; let animationStyles = ''; if (animation !== 'none') { const duration = `${safeAnimationDuration.size}${safeAnimationDuration.unit}`; const delay = `${safeAnimationDelay.size}${safeAnimationDelay.unit}`; animationStyles = `animation-name: ${animation}; animation-duration: ${duration}; animation-delay: ${delay}; animation-fill-mode: both;`; } const wrapperStyle = animationStyles ? ` style="${animationStyles.trim()}"` : ''; return `<div class="${wrapperClasses.join(' ')}"${wrapperAttributes}${wrapperStyle}>${contentHtml}</div>`; } escapeHtml(text) { const div = document.createElement('div'); div.textContent = text; return div.innerHTML; } }

class CompareWidget extends WidgetBase { getName() { return 'compare'; } getTitle() { return 'Compare'; } getIcon() { return 'fa fa-exchange-alt'; } getCategories() { return ['interactive']; } getKeywords() { return ['compare', 'comparison', 'vs']; } registerControls() { this.startControlsSection('content_section', { label: 'Content', tab: 'content' }); this.addControl('item1', { type: 'text', label: 'Item 1', default_value: 'Item A', placeholder: 'Enter item 1' }); this.addControl('item2', { type: 'text', label: 'Item 2', default_value: 'Item B', placeholder: 'Enter item 2' }); this.endControlsSection(); this.startControlsSection('style_section', { label: 'Style', tab: 'style' }); this.addControl('compare_color', { type: 'color', label: 'Compare Color', default_value: '#3b82f6' }); this.endControlsSection(); this.registerAdvancedControls(); } render() { const item1 = this.getSetting('item1', 'Item A'); const item2 = this.getSetting('item2', 'Item B'); const compareColor = this.getSetting('compare_color', '#3b82f6'); const cssClasses = this.getSetting('css_classes', ''); const cssId = this.getSetting('css_id', ''); const animation = this.getSetting('animation', 'none'); const animationDuration = this.getSetting('animation_duration', { size: 0.5, unit: 's' }); const animationDelay = this.getSetting('animation_delay', { size: 0, unit: 's' }); const safeAnimationDuration = (animationDuration && typeof animationDuration === 'object' && animationDuration.size !== undefined && animationDuration.unit !== undefined) ? animationDuration : { size: 0.5, unit: 's' }; const safeAnimationDelay = (animationDelay && typeof animationDelay === 'object' && animationDelay.size !== undefined && animationDelay.unit !== undefined) ? animationDelay : { size: 0, unit: 's' }; const contentHtml = `<div style="display: flex; align-items: center; gap: 15px; padding: 20px; border: 1px solid #e5e7eb; border-radius: 8px;"><div style="flex: 1; text-align: center; font-size: 16px; font-weight: 600;">${this.escapeHtml(item1)}</div><div style="color: ${compareColor}; font-size: 20px;"><i class="fa fa-exchange-alt"></i></div><div style="flex: 1; text-align: center; font-size: 16px; font-weight: 600;">${this.escapeHtml(item2)}</div></div>`; let wrapperClasses = ['compare-widget']; if (cssClasses) wrapperClasses.push(cssClasses); if (animation !== 'none') wrapperClasses.push('animated', animation); let wrapperAttributes = ''; if (cssId) wrapperAttributes += ` id="${this.escapeHtml(cssId)}"`; let animationStyles = ''; if (animation !== 'none') { const duration = `${safeAnimationDuration.size}${safeAnimationDuration.unit}`; const delay = `${safeAnimationDelay.size}${safeAnimationDelay.unit}`; animationStyles = `animation-name: ${animation}; animation-duration: ${duration}; animation-delay: ${delay}; animation-fill-mode: both;`; } const wrapperStyle = animationStyles ? ` style="${animationStyles.trim()}"` : ''; return `<div class="${wrapperClasses.join(' ')}"${wrapperAttributes}${wrapperStyle}>${contentHtml}</div>`; } escapeHtml(text) { const div = document.createElement('div'); div.textContent = text; return div.innerHTML; } }

class WishlistWidget extends WidgetBase { getName() { return 'wishlist'; } getTitle() { return 'Wishlist'; } getIcon() { return 'fa fa-heart'; } getCategories() { return ['interactive']; } getKeywords() { return ['wishlist', 'favorite', 'heart']; } registerControls() { this.startControlsSection('content_section', { label: 'Content', tab: 'content' }); this.addControl('text', { type: 'text', label: 'Text', default_value: 'Add to Wishlist', placeholder: 'Enter text' }); this.endControlsSection(); this.startControlsSection('style_section', { label: 'Style', tab: 'style' }); this.addControl('heart_color', { type: 'color', label: 'Heart Color', default_value: '#ef4444' }); this.endControlsSection(); this.registerAdvancedControls(); } render() { const text = this.getSetting('text', 'Add to Wishlist'); const heartColor = this.getSetting('heart_color', '#ef4444'); const cssClasses = this.getSetting('css_classes', ''); const cssId = this.getSetting('css_id', ''); const animation = this.getSetting('animation', 'none'); const animationDuration = this.getSetting('animation_duration', { size: 0.5, unit: 's' }); const animationDelay = this.getSetting('animation_delay', { size: 0, unit: 's' }); const safeAnimationDuration = (animationDuration && typeof animationDuration === 'object' && animationDuration.size !== undefined && animationDuration.unit !== undefined) ? animationDuration : { size: 0.5, unit: 's' }; const safeAnimationDelay = (animationDelay && typeof animationDelay === 'object' && animationDelay.size !== undefined && animationDelay.unit !== undefined) ? animationDelay : { size: 0, unit: 's' }; const uniqueId = `wishlist-${this.id}`; const contentHtml = `<button id="${uniqueId}" onclick="this.querySelector('i').classList.toggle('fa-heart'); this.querySelector('i').classList.toggle('far'); this.querySelector('i').classList.toggle('fas'); this.style.color = this.querySelector('i').classList.contains('fas') ? '${heartColor}' : '#666'" style="background: none; border: 1px solid #e5e7eb; border-radius: 8px; padding: 10px 20px; font-size: 14px; font-weight: 600; cursor: pointer; color: #666; display: flex; align-items: center; gap: 8px;"><i class="far fa-heart"></i> ${this.escapeHtml(text)}</button>`; let wrapperClasses = ['wishlist-widget']; if (cssClasses) wrapperClasses.push(cssClasses); if (animation !== 'none') wrapperClasses.push('animated', animation); let wrapperAttributes = ''; if (cssId) wrapperAttributes += ` id="${this.escapeHtml(cssId)}"`; let animationStyles = ''; if (animation !== 'none') { const duration = `${safeAnimationDuration.size}${safeAnimationDuration.unit}`; const delay = `${safeAnimationDelay.size}${safeAnimationDelay.unit}`; animationStyles = `animation-name: ${animation}; animation-duration: ${duration}; animation-delay: ${delay}; animation-fill-mode: both;`; } const wrapperStyle = animationStyles ? ` style="${animationStyles.trim()}"` : ''; return `<div class="${wrapperClasses.join(' ')}"${wrapperAttributes}${wrapperStyle}>${contentHtml}</div>`; } escapeHtml(text) { const div = document.createElement('div'); div.textContent = text; return div.innerHTML; } }

class FavoritesWidget extends WidgetBase { getName() { return 'favorites'; } getTitle() { return 'Favorites'; } getIcon() { return 'fa fa-star'; } getCategories() { return ['interactive']; } getKeywords() { return ['favorites', 'star', 'bookmark']; } registerControls() { this.startControlsSection('content_section', { label: 'Content', tab: 'content' }); this.addControl('text', { type: 'text', label: 'Text', default_value: 'Add to Favorites', placeholder: 'Enter text' }); this.endControlsSection(); this.startControlsSection('style_section', { label: 'Style', tab: 'style' }); this.addControl('star_color', { type: 'color', label: 'Star Color', default_value: '#fbbf24' }); this.endControlsSection(); this.registerAdvancedControls(); } render() { const text = this.getSetting('text', 'Add to Favorites'); const starColor = this.getSetting('star_color', '#fbbf24'); const cssClasses = this.getSetting('css_classes', ''); const cssId = this.getSetting('css_id', ''); const animation = this.getSetting('animation', 'none'); const animationDuration = this.getSetting('animation_duration', { size: 0.5, unit: 's' }); const animationDelay = this.getSetting('animation_delay', { size: 0, unit: 's' }); const safeAnimationDuration = (animationDuration && typeof animationDuration === 'object' && animationDuration.size !== undefined && animationDuration.unit !== undefined) ? animationDuration : { size: 0.5, unit: 's' }; const safeAnimationDelay = (animationDelay && typeof animationDelay === 'object' && animationDelay.size !== undefined && animationDelay.unit !== undefined) ? animationDelay : { size: 0, unit: 's' }; const uniqueId = `favorites-${this.id}`; const contentHtml = `<button id="${uniqueId}" onclick="this.querySelector('i').classList.toggle('fa-star'); this.querySelector('i').classList.toggle('far'); this.querySelector('i').classList.toggle('fas'); this.style.color = this.querySelector('i').classList.contains('fas') ? '${starColor}' : '#666'" style="background: none; border: 1px solid #e5e7eb; border-radius: 8px; padding: 10px 20px; font-size: 14px; font-weight: 600; cursor: pointer; color: #666; display: flex; align-items: center; gap: 8px;"><i class="far fa-star"></i> ${this.escapeHtml(text)}</button>`; let wrapperClasses = ['favorites-widget']; if (cssClasses) wrapperClasses.push(cssClasses); if (animation !== 'none') wrapperClasses.push('animated', animation); let wrapperAttributes = ''; if (cssId) wrapperAttributes += ` id="${this.escapeHtml(cssId)}"`; let animationStyles = ''; if (animation !== 'none') { const duration = `${safeAnimationDuration.size}${safeAnimationDuration.unit}`; const delay = `${safeAnimationDelay.size}${safeAnimationDelay.unit}`; animationStyles = `animation-name: ${animation}; animation-duration: ${duration}; animation-delay: ${delay}; animation-fill-mode: both;`; } const wrapperStyle = animationStyles ? ` style="${animationStyles.trim()}"` : ''; return `<div class="${wrapperClasses.join(' ')}"${wrapperAttributes}${wrapperStyle}>${contentHtml}</div>`; } escapeHtml(text) { const div = document.createElement('div'); div.textContent = text; return div.innerHTML; } }

window.elementorWidgetManager.registerWidget(ExpandableWidget);
window.elementorWidgetManager.registerWidget(ReadMoreWidget);
window.elementorWidgetManager.registerWidget(ShowHideWidget);
window.elementorWidgetManager.registerWidget(FilterWidget);
window.elementorWidgetManager.registerWidget(SortWidget);
window.elementorWidgetManager.registerWidget(SearchFilterWidget);
window.elementorWidgetManager.registerWidget(CompareWidget);
window.elementorWidgetManager.registerWidget(WishlistWidget);
window.elementorWidgetManager.registerWidget(FavoritesWidget);
