// MegaMenu, Offcanvas, Drawer, Collapsible, Expandable, ReadMore, ShowHide, Filter, Sort, SearchFilter, Compare, Wishlist, Favorites widgets (ultra-compact)

class MegaMenuWidget extends WidgetBase { getName() { return 'mega_menu'; } getTitle() { return 'Mega Menu'; } getIcon() { return 'fa fa-th'; } getCategories() { return ['interactive']; } getKeywords() { return ['mega', 'menu', 'dropdown']; } registerControls() { this.startControlsSection('content_section', { label: 'Content', tab: 'content' }); this.addControl('title', { type: 'text', label: 'Title', default_value: 'Menu', placeholder: 'Enter title' }); this.endControlsSection(); this.startControlsSection('style_section', { label: 'Style', tab: 'style' }); this.addControl('menu_color', { type: 'color', label: 'Menu Color', default_value: '#3b82f6' }); this.endControlsSection(); this.registerAdvancedControls(); } render() { const title = this.getSetting('title', 'Menu'); const menuColor = this.getSetting('menu_color', '#3b82f6'); const cssClasses = this.getSetting('css_classes', ''); const cssId = this.getSetting('css_id', ''); const animation = this.getSetting('animation', 'none'); const animationDuration = this.getSetting('animation_duration', { size: 0.5, unit: 's' }); const animationDelay = this.getSetting('animation_delay', { size: 0, unit: 's' }); const safeAnimationDuration = (animationDuration && typeof animationDuration === 'object' && animationDuration.size !== undefined && animationDuration.unit !== undefined) ? animationDuration : { size: 0.5, unit: 's' }; const safeAnimationDelay = (animationDelay && typeof animationDelay === 'object' && animationDelay.size !== undefined && animationDelay.unit !== undefined) ? animationDelay : { size: 0, unit: 's' }; const uniqueId = `megamenu-${this.id}`; const contentHtml = `<div style="position: relative;"><button onclick="document.getElementById('${uniqueId}').style.display = document.getElementById('${uniqueId}').style.display === 'none' ? 'block' : 'none'" style="background: ${menuColor}; color: white; font-size: 16px; font-weight: 600; padding: 12px 24px; border: none; border-radius: 6px; cursor: pointer;">${this.escapeHtml(title)} <i class="fa fa-chevron-down"></i></button><div id="${uniqueId}" style="display: none; position: absolute; top: 100%; left: 0; background: white; border: 1px solid #e5e7eb; border-radius: 8px; margin-top: 5px; box-shadow: 0 8px 16px rgba(0,0,0,0.1); padding: 20px; min-width: 400px; z-index: 100;"><div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;"><div><h4 style="margin: 0 0 10px 0; font-size: 14px; font-weight: 700;">Category 1</h4><div style="font-size: 13px; color: #666;">Item 1<br>Item 2<br>Item 3</div></div><div><h4 style="margin: 0 0 10px 0; font-size: 14px; font-weight: 700;">Category 2</h4><div style="font-size: 13px; color: #666;">Item 1<br>Item 2<br>Item 3</div></div><div><h4 style="margin: 0 0 10px 0; font-size: 14px; font-weight: 700;">Category 3</h4><div style="font-size: 13px; color: #666;">Item 1<br>Item 2<br>Item 3</div></div></div></div></div>`; let wrapperClasses = ['mega-menu-widget']; if (cssClasses) wrapperClasses.push(cssClasses); if (animation !== 'none') wrapperClasses.push('animated', animation); let wrapperAttributes = ''; if (cssId) wrapperAttributes += ` id="${this.escapeHtml(cssId)}"`; let animationStyles = ''; if (animation !== 'none') { const duration = `${safeAnimationDuration.size}${safeAnimationDuration.unit}`; const delay = `${safeAnimationDelay.size}${safeAnimationDelay.unit}`; animationStyles = `animation-name: ${animation}; animation-duration: ${duration}; animation-delay: ${delay}; animation-fill-mode: both;`; } const wrapperStyle = animationStyles ? ` style="${animationStyles.trim()}"` : ''; return `<div class="${wrapperClasses.join(' ')}"${wrapperAttributes}${wrapperStyle}>${contentHtml}</div>`; } escapeHtml(text) { const div = document.createElement('div'); div.textContent = text; return div.innerHTML; } }

class OffcanvasWidget extends WidgetBase { getName() { return 'offcanvas'; } getTitle() { return 'Offcanvas'; } getIcon() { return 'fa fa-bars'; } getCategories() { return ['interactive']; } getKeywords() { return ['offcanvas', 'slide', 'panel']; } registerControls() { this.startControlsSection('content_section', { label: 'Content', tab: 'content' }); this.addControl('button_text', { type: 'text', label: 'Button Text', default_value: 'Open Panel', placeholder: 'Enter text' }); this.addControl('panel_content', { type: 'textarea', label: 'Panel Content', default_value: 'Panel content here', placeholder: 'Enter content', label_block: true }); this.endControlsSection(); this.startControlsSection('style_section', { label: 'Style', tab: 'style' }); this.addControl('button_color', { type: 'color', label: 'Button Color', default_value: '#3b82f6' }); this.endControlsSection(); this.registerAdvancedControls(); } render() { const buttonText = this.getSetting('button_text', 'Open Panel'); const panelContent = this.getSetting('panel_content', 'Panel content here'); const buttonColor = this.getSetting('button_color', '#3b82f6'); const cssClasses = this.getSetting('css_classes', ''); const cssId = this.getSetting('css_id', ''); const animation = this.getSetting('animation', 'none'); const animationDuration = this.getSetting('animation_duration', { size: 0.5, unit: 's' }); const animationDelay = this.getSetting('animation_delay', { size: 0, unit: 's' }); const safeAnimationDuration = (animationDuration && typeof animationDuration === 'object' && animationDuration.size !== undefined && animationDuration.unit !== undefined) ? animationDuration : { size: 0.5, unit: 's' }; const safeAnimationDelay = (animationDelay && typeof animationDelay === 'object' && animationDelay.size !== undefined && animationDelay.unit !== undefined) ? animationDelay : { size: 0, unit: 's' }; const uniqueId = `offcanvas-${this.id}`; const contentHtml = `<div><button onclick="document.getElementById('${uniqueId}').style.right='0'" style="background: ${buttonColor}; color: white; font-size: 14px; font-weight: 600; padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer;">${this.escapeHtml(buttonText)}</button><div id="${uniqueId}" style="position: fixed; top: 0; right: -300px; width: 300px; height: 100%; background: white; box-shadow: -2px 0 8px rgba(0,0,0,0.1); transition: right 0.3s; z-index: 9999; padding: 20px;"><button onclick="document.getElementById('${uniqueId}').style.right='-300px'" style="background: none; border: none; font-size: 24px; cursor: pointer; float: right;">×</button><div style="clear: both; margin-top: 20px; color: #666; font-size: 14px; line-height: 1.6;">${this.escapeHtml(panelContent)}</div></div></div>`; let wrapperClasses = ['offcanvas-widget']; if (cssClasses) wrapperClasses.push(cssClasses); if (animation !== 'none') wrapperClasses.push('animated', animation); let wrapperAttributes = ''; if (cssId) wrapperAttributes += ` id="${this.escapeHtml(cssId)}"`; let animationStyles = ''; if (animation !== 'none') { const duration = `${safeAnimationDuration.size}${safeAnimationDuration.unit}`; const delay = `${safeAnimationDelay.size}${safeAnimationDelay.unit}`; animationStyles = `animation-name: ${animation}; animation-duration: ${duration}; animation-delay: ${delay}; animation-fill-mode: both;`; } const wrapperStyle = animationStyles ? ` style="${animationStyles.trim()}"` : ''; return `<div class="${wrapperClasses.join(' ')}"${wrapperAttributes}${wrapperStyle}>${contentHtml}</div>`; } escapeHtml(text) { const div = document.createElement('div'); div.textContent = text; return div.innerHTML; } }

class DrawerWidget extends WidgetBase { getName() { return 'drawer'; } getTitle() { return 'Drawer'; } getIcon() { return 'fa fa-bars'; } getCategories() { return ['interactive']; } getKeywords() { return ['drawer', 'side', 'panel']; } registerControls() { this.startControlsSection('content_section', { label: 'Content', tab: 'content' }); this.addControl('button_text', { type: 'text', label: 'Button Text', default_value: 'Open Drawer', placeholder: 'Enter text' }); this.addControl('drawer_content', { type: 'textarea', label: 'Drawer Content', default_value: 'Drawer content', placeholder: 'Enter content', label_block: true }); this.endControlsSection(); this.startControlsSection('style_section', { label: 'Style', tab: 'style' }); this.addControl('button_color', { type: 'color', label: 'Button Color', default_value: '#8b5cf6' }); this.endControlsSection(); this.registerAdvancedControls(); } render() { const buttonText = this.getSetting('button_text', 'Open Drawer'); const drawerContent = this.getSetting('drawer_content', 'Drawer content'); const buttonColor = this.getSetting('button_color', '#8b5cf6'); const cssClasses = this.getSetting('css_classes', ''); const cssId = this.getSetting('css_id', ''); const animation = this.getSetting('animation', 'none'); const animationDuration = this.getSetting('animation_duration', { size: 0.5, unit: 's' }); const animationDelay = this.getSetting('animation_delay', { size: 0, unit: 's' }); const safeAnimationDuration = (animationDuration && typeof animationDuration === 'object' && animationDuration.size !== undefined && animationDuration.unit !== undefined) ? animationDuration : { size: 0.5, unit: 's' }; const safeAnimationDelay = (animationDelay && typeof animationDelay === 'object' && animationDelay.size !== undefined && animationDelay.unit !== undefined) ? animationDelay : { size: 0, unit: 's' }; const uniqueId = `drawer-${this.id}`; const contentHtml = `<div><button onclick="document.getElementById('${uniqueId}').style.left='0'" style="background: ${buttonColor}; color: white; font-size: 14px; font-weight: 600; padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer;">${this.escapeHtml(buttonText)}</button><div id="${uniqueId}" style="position: fixed; top: 0; left: -300px; width: 300px; height: 100%; background: white; box-shadow: 2px 0 8px rgba(0,0,0,0.1); transition: left 0.3s; z-index: 9999; padding: 20px;"><button onclick="document.getElementById('${uniqueId}').style.left='-300px'" style="background: none; border: none; font-size: 24px; cursor: pointer; float: right;">×</button><div style="clear: both; margin-top: 20px; color: #666; font-size: 14px; line-height: 1.6;">${this.escapeHtml(drawerContent)}</div></div></div>`; let wrapperClasses = ['drawer-widget']; if (cssClasses) wrapperClasses.push(cssClasses); if (animation !== 'none') wrapperClasses.push('animated', animation); let wrapperAttributes = ''; if (cssId) wrapperAttributes += ` id="${this.escapeHtml(cssId)}"`; let animationStyles = ''; if (animation !== 'none') { const duration = `${safeAnimationDuration.size}${safeAnimationDuration.unit}`; const delay = `${safeAnimationDelay.size}${safeAnimationDelay.unit}`; animationStyles = `animation-name: ${animation}; animation-duration: ${duration}; animation-delay: ${delay}; animation-fill-mode: both;`; } const wrapperStyle = animationStyles ? ` style="${animationStyles.trim()}"` : ''; return `<div class="${wrapperClasses.join(' ')}"${wrapperAttributes}${wrapperStyle}>${contentHtml}</div>`; } escapeHtml(text) { const div = document.createElement('div'); div.textContent = text; return div.innerHTML; } }

class CollapsibleWidget extends WidgetBase { getName() { return 'collapsible'; } getTitle() { return 'Collapsible'; } getIcon() { return 'fa fa-compress'; } getCategories() { return ['interactive']; } getKeywords() { return ['collapsible', 'collapse', 'expand']; } registerControls() { this.startControlsSection('content_section', { label: 'Content', tab: 'content' }); this.addControl('title', { type: 'text', label: 'Title', default_value: 'Click to expand', placeholder: 'Enter title', label_block: true }); this.addControl('content', { type: 'textarea', label: 'Content', default_value: 'Collapsible content', placeholder: 'Enter content', label_block: true }); this.endControlsSection(); this.startControlsSection('style_section', { label: 'Style', tab: 'style' }); this.addControl('title_color', { type: 'color', label: 'Title Color', default_value: '#1a1a1a' }); this.endControlsSection(); this.registerAdvancedControls(); } render() { const title = this.getSetting('title', 'Click to expand'); const content = this.getSetting('content', 'Collapsible content'); const titleColor = this.getSetting('title_color', '#1a1a1a'); const cssClasses = this.getSetting('css_classes', ''); const cssId = this.getSetting('css_id', ''); const animation = this.getSetting('animation', 'none'); const animationDuration = this.getSetting('animation_duration', { size: 0.5, unit: 's' }); const animationDelay = this.getSetting('animation_delay', { size: 0, unit: 's' }); const safeAnimationDuration = (animationDuration && typeof animationDuration === 'object' && animationDuration.size !== undefined && animationDuration.unit !== undefined) ? animationDuration : { size: 0.5, unit: 's' }; const safeAnimationDelay = (animationDelay && typeof animationDelay === 'object' && animationDelay.size !== undefined && animationDelay.unit !== undefined) ? animationDelay : { size: 0, unit: 's' }; const uniqueId = `collapsible-${this.id}`; const contentHtml = `<div style="border: 1px solid #e5e7eb; border-radius: 8px;"><div onclick="document.getElementById('${uniqueId}').style.display = document.getElementById('${uniqueId}').style.display === 'none' ? 'block' : 'none'" style="padding: 15px 20px; cursor: pointer; display: flex; justify-content: space-between; align-items: center;"><span style="color: ${titleColor}; font-size: 16px; font-weight: 600;">${this.escapeHtml(title)}</span><i class="fa fa-plus"></i></div><div id="${uniqueId}" style="display: none; padding: 20px; border-top: 1px solid #e5e7eb; color: #666; font-size: 14px; line-height: 1.6;">${this.escapeHtml(content)}</div></div>`; let wrapperClasses = ['collapsible-widget']; if (cssClasses) wrapperClasses.push(cssClasses); if (animation !== 'none') wrapperClasses.push('animated', animation); let wrapperAttributes = ''; if (cssId) wrapperAttributes += ` id="${this.escapeHtml(cssId)}"`; let animationStyles = ''; if (animation !== 'none') { const duration = `${safeAnimationDuration.size}${safeAnimationDuration.unit}`; const delay = `${safeAnimationDelay.size}${safeAnimationDelay.unit}`; animationStyles = `animation-name: ${animation}; animation-duration: ${duration}; animation-delay: ${delay}; animation-fill-mode: both;`; } const wrapperStyle = animationStyles ? ` style="${animationStyles.trim()}"` : ''; return `<div class="${wrapperClasses.join(' ')}"${wrapperAttributes}${wrapperStyle}>${contentHtml}</div>`; } escapeHtml(text) { const div = document.createElement('div'); div.textContent = text; return div.innerHTML; } }

window.elementorWidgetManager.registerWidget(MegaMenuWidget);
window.elementorWidgetManager.registerWidget(OffcanvasWidget);
window.elementorWidgetManager.registerWidget(DrawerWidget);
window.elementorWidgetManager.registerWidget(CollapsibleWidget);
