<!DOCTYPE html>
<html>

<head>
    <title>Test API Response</title>
</head>

<body>
    <h1>Testing API Response for Product10</h1>
    <pre id="output">Loading...</pre>

    <script>
        fetch('/api/get-products.php?slug=Product10')
            .then(r => r.json())
            .then(data => {
                document.getElementById('output').textContent = JSON.stringify(data, null, 2);

                if (data.success && data.product) {
                    console.log('Product Type:', data.product.product_type);
                    console.log('Variations:', data.product.variations);
                    console.log('Attributes:', data.product.attributes);

                    // Check if variations will display
                    const attrs = JSON.parse(data.product.attributes || '[]');
                    const variationAttrs = attrs.filter(a => a.is_variation === true || a.is_variation === 'true');
                    console.log('Variation Attributes Count:', variationAttrs.length);
                }
            })
            .catch(e => {
                document.getElementById('output').textContent = 'Error: ' + e.message;
            });
    </script>
</body>

</html>